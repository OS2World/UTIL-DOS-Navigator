Основные отличия версии 2.14 devel от 2.14 beta

[*] Теперь %!F можно использовать не только в dn.vwr, но и в dn.mnu
[*] Теперь после имени файла для редактирования может стоять двоеточие
    и номер строки, на которую нужно установить курсор сразу после открытия.
    Это работает во всех случаях открытия окна редатора: параметр
    запуска DN, ввод имени по Shift-F4, Ctrl-Enter в редакторе.
    Это особенно удобно для Ctrl-Enter при работе с выдачей grep.
[*] Теперь по Ctrl-Enter в редакторе всегда делается попытка найти окно
    такого файла, как при ReuseEditors=2.
[*] Теперь копировании (F5, F6) можно прервать на этапе просмотра каталогов.
[-] В диалоге прерывания копирования файлов Esc прервал копирование.
    Ошибка внесена в 2.14.
[*] Работа с GZip архивами (архивы и файлы в них более 4ГБ)
[*] Исправлено определение TAR
    если внутри TAR был GZip, то ДН определял архив как GZip
 3.07.2007

[*] Если при отключённом расширенном копировании прервать копирование
    до начала записи и в диалоге прекращения выбрать только флаг
    "Сохранить недописанный файл", то создавался файл-приёмник нулевой
    длины.
[-] При копировании индикатор чтения обновлялся нерегулярно, если
    скорость источника намного выше скорости приёмника.
[-] [Win32] DN не вызывался, если в пути к его каталогу были национальные
    символы (например ...\Рабочий стол\...)
[-] При переходе из редактора в просмотр (Alt-V) DN падал. Ошибка внесена
    в 2.13.
[*] Теперь при переходе из редактора в просмотр (Alt-V) и при переходе из
    просмотра в редактор (Alt-E) кодировка сохраняется.
[-] Умолчания для кодировки Win в Win32- и OS/2-версиях были перепутаны.
    Теперь в Win32 умолчание 0, в OS/2 - 1251.
[-] При копировании одного каталога не работал контроль свободного места.
[-] Неправильная подсветка найденных значений в просмотрщике в режиме Dump
24.07.2007

[-] Если в диалоге копирования ввести путь вроде '..\Dir\', то вместо
    копирования файла в каталог '..\Dir' происходило копирование файла
    в новый файл с именем '..\Dir'.
    Ошибка внесена в версии 2.11.
21.08.2007

[-] При переходе на файл через историю просмотра или редактирования
    ("встать на") не обновлялся путь в комстроке.
[*] [Win32] в несколько раз ускорено копирование больших файлов на
    большинство флэш-накопителей USB2 (запись теперь делается блоками
    ровно по 128k, что оказалось очень существенно).
[-] При копировании на устройство (например, на NUL) к имени устройства
    добавлялся путь неактивной панели, что в некоторых случаях приводило
    у проблемам (например, если это сетевой путь).
[*] В быстром поиске добавлены новые горячие клавиши: при нажатом Alt
   Home, End, Down, Up, Right, Left. Подсказка в строке статуса есть.
   Хелп к этому всему только русский.
29.01.2008

[-] Ещё доделка к копированию на устройство с сетевого каталога.
30.01.2008

[*] ini-переменная ReflectCopyDirection теперь не используется
[*] В окне состояния копирования добален общий прогрессбар
[-] Если в калькуляторе установить точность 0 дробных цифр, то
    младшие нули не выводились.
[*] навел порядок в About
    1. Указал актуальные линки
    2. Выкинул упоминание о Virtual Pascal - он уже давно фриварный
    3. Light version поставил к ДН/2 (раньше приклеивалось к ДН 1.51.08)
[-] В просмотре в HEX режиме адрес текущей позиции (внизу слева) показывает
    неправильное значение если окно прокручено (не на начале файла).
[*] Откорректирован украинский хелп к быстрому поиску.
 8.02.2008

[*] Общий индикатор копирования теперь тоже может быть зеркальным
    (ini-переменная ReflectCopyDirection)
[-] Вычисление строки в редакторе (Alt-Ins) производилось с недостаточной
    точностью.
[-] Точность вычислений в калькуляторе не задавалась явно, что в некоторых
    ситуациях (вероятно, только под Win32) приводило к вычислениям
    с недостаточной точностью.
[*] При нулевом значении переменной dn.ini F6_DuplicatesLine клавиша F6
    в редакторе теперь не используется совсем;
[*] Для быстрого включения/включения оптимизации пробелов теперь в редакторе
    используется отдельный хоткей Alt-F6;
[*] Подсказки в строке статуса приведены в соответствие с новым значением
    хоткеев; при F6_DuplicatesLine=0 подсказка для удвоения строк
    показывается как неактивная
[*] Для F6 в редакторе возвращено классическое поведение по умолчанию
    (удвоение строк)
 2.03.2008

[-] При удалении нескольких файлов в панели поиска, когда часть из них
    расположена в некоторм каталоге, а часть - в его подкаталоге,
    файлы из подкаталога не исчезали с панели, хотя фактически удалялись.
[*] Добавлена возможность в пользовательском меню ссылаться на другой
    файл меню (как в VC).
[-] (Не для новостей) Устранена мелкая утечка памяти
16.03.2008

[+] Добавлены ini-переменые, задающие максимальное число строк историй:
    MaxDirHistoryDepth (каталогов);
    MaxEditHistoryDepth (просмотра и редактирования);
    MaxHistoryDepth (командной строки).
    MaxHistoryDepth (прочих историй);
[+] Добавлена горячая клавиша строки ввода с историей: Alt-Down.
    По этой клавише курсор сразу ставится на первый выделенный элемент,
    то есть её действие такое же, как у двух нажатий: Down, Alt-Down.
[-] Если в диалоге копирования при нескольких выделенных файлах в строке
    ввода ввести новое имя без '\' в конце, то не выводился запрос на выбор
    операции (новый каталог или склейка в один файл), а файлы безусловно
    склеивались в один.
21.03.2008

[-] При удалении каталога, имеющего описание, описание не удалялось.
[+] Дерево переписано практически полностью. Теперь оно не тормозит,
    работает в архивах и сетевых каталогах и имеет более гибкий и
    единнобразнывй интерфейс.
30.05.2008

[*] Теперь если во время поиска переключиться на панель найденных файлов,
    то Shift-Enter работает.
[*] (Не для новостей) Косметические правки в диалоге поиска в результатах
    поиска
[*] (Не для новостей) Косметические правки формата даты в диалоге
    атрибутов файла, а может, и ещё где-то (теперь вместо 8.6.2008
    выводится 08.06.2008)
[*] Теперь в комбобоксе стрелки вверх и вниз перелистывают варианты
    (как PgUp и PgDn).
[-] В диалоге настроек вида панелей по F1 выводилась не та статья хелпа.
[*] (Не для новостей) Косметические правки в диалоге "Процесс
    загрузки/выгрузки"
[*] Добавлена ini-переменная AddExecutables, в которой можно перечислить
    расширения файлов, считающихся исполнимыми. Запуск таких файлов
    (в отличие от "настоящих" исполнимых) может быть определён в dn.ext.
 9.07.2008

[*] Командная строка раньше игнорировала параметр "Большой курсор при вставке"
[*] Иногда после завершения быстрого поиска курсор оставался на экране (если
    командная строка выключена) или "перемигивался" с курсором командной
    строки (если она включена) в моменты перемещения между файлами
[*] Из ADVANCE.PAS выкинута неиспользуемая функция LocateCursor
[*] При выключенной командной строке не работал показ экрана Дос
    по нажатию Esc
[*] В палитре Strelok.pal "Диалог - Поле нормальное" и "Диалог - Поле
    выделенное" имели одинаковый цвет - зелёный на чёрном. Теперь
    "Диалог - Поле выделенное" имеет цвет светло-зелёный на чёрном
14.07.2008

[*] Теперь в файловой панели при пустой комстроке Shift-Space расширяет
    выделение (или развыделение) до текущего положения курсора.
[*] Теперь в файловой панели перемещение мыши с зажатой правой кнопкой
    расширяет выделение (или развыделение).
[*] Теперь в файловой панели челчок правой кнопкой с зажатым Shift
    расширяет выделение (или развыделение).
[*] Теперь в файловой панели перемещение мыши с зажатой правой кнопкой
    за пределы панели вправо и влево приводит к быстрому перелистыванию
    (на вертикальный размер колонки) с расширением выделения (или
    развыделения).
[-] В диалоге дерева выводилась не та статья хелпа.
[-] В дереве клавиша Home устанавливала курсов не в начало списка.
16.07.2008

[-] (Не для новостей) Патчем ak80716a.dif была внесена ошибка: в
    файловой панели перестала работать инверсия выделения клавишей Gray*
[-] 7zip не обрабатывал файлы с нелатинскими именами.
    (7zip c версии 4.42 работает со списками в UTF-8 по умолчанию)

25.07.2008

[-] В строке ввода электронной таблицы не работали операции с буфером
    обмена. Не исключено, что аналогичная проблема была и в каких-то
    ещё строках ввода.
[*] Теперь в строке ввода электронной таблицы работает откат (Alt-BS),
    возвращая в неё значение из клетки.
[-] DN падал, если в редакторе нажать Alt-F12 на пустой строке
[-] В файловых панелях колонка упакованного размера была на 1 символ шире,
    чем нужно.
[-] Расширенной поиск файлов неправильно работатал с размерами файлов
    более 4Г.
[-] В заголовке панели поиска маска '*.' отображалась как '*'

22.01.2009

[*] Поиск в архиве - ресурсыстроки поиска заползали на границы окон (во всех
    языках) и кнопки криво стояли в украинских ресурсах.
[-] (Не для новостей) Подготовка диалога в диалоге работала некорректно.
[-] С именами файлов и каталогов, начинающихся с двух точек, были
    разнообразные глюки. Например, в такой каталог было невозможно
    зайти.
[-] При копировании/переименовании вставка ('>') не работала в
    начале имени и между первым и вторым символом имени.
[+] Добавлен захват экрана мышью: прицелиться, нажать Shift
    (можно перенастроить на Ctrl), нажать левую кнопку,
    расширить выделение, отпустить левую кнопку.

29.01.2009

[-] не для финального whatsnew
    если не задан %TEMP% - то DN2 глючит страшно
    TempDir ДНом задавался "TEMP", а создавался "TEM"
        TempDir := TempDir+'TEMP';
        MkDir(Copy(TempDir, 1, Length(TempDir)-1));
    в итоге ДН файлы создавал в одном месте, а искал в другом
    поправил
    и выкинул лишнюю проверку BadTemp() перед созданием подкаталога
[*] 7zip не работал в DN2/DPMI32
[*] не для финального whatsnew
   выкинут код, оставшийся в наследство от DN OSP - DN2 запускает архиваторы
   AIN и подобные, работающие через листинг, из arc_*.pas
   archread.pas тоже больше не нужен
[-] По F4 в пользовательском меню, вызванном по ссылке (>>), открывался
    не тот файл.
[*] Теперь по F4 в пользовательском меню файл открывается на той строчке,
    которая соответствует выбранному пункту.

11.02.2009

[-] В редакторе не работал поиск парной скобки CtrlQ, [
[-] DN падал по F4 на подменю в пользовательском меню
[-] (Не для новостей) В сборке 29.01.2009 была внесена ошибка, которая
    проявлялась, например, если в диалоге копирования имя копируемого
    файла заменить на более короткое.
 4.03.2009

[-] Если при расширенном копировании нескольких файлов пропускать
    не последний файл (например, в результате диалога перезаписи),
    то содержимое последующих файлов искажалось.
17.04.2009

[!] Введены элементы работы с FTP. Для входа на FTP-сервер нужно ввести
    в командной строке cd ftp://login:password@server/path . Допускается
    замена '/' на '\'. Логин и пароль не обязательны. Если пароль не
    указан, но требуется, он будет запрошен дополнительно. Если логин
    (и пароль) не указан, выполняется анонимный вход. Работа всегда в
    режиме passive.
    Было переделано очень много в общих программах, так что вполне
    возможно, что внесены ошибки в работу с локальными и сетевыми файлами.
[-] (Не для новостей) Из-за некорректного вызова ReadFile для
    показа панели описаний - DN падал. Ошибка почему-то не проявлялась
    до введения работы с ftp.
[-] При копировании терялись атрибуты каталогов
[+] Распознавание Windows x64 SFX архивов.
[-] (Не для новостей) Piwamoto:
    Есть архивы, в которых поле атрибутов файла содержит $60.
    ДHу от атрибутов в архиве нужны биты Directory - для установления признака
    каталога и Hidden (им ДH отмечает файлы с паролем, да, плохо, но лезть в это
    пока смысла особого нет)
    Кто и зачем эту проверку добавил?
    В досовом ДHе ее нет и все показывается - поэтому предлагаю выкинуть
[-] При поиске файлов в панели поиска, содержащей каталоги, двоились
    файлы, которые были и прямо в панели, и внутри каталогов.
    Эта же ошибка приводила к тому, что сразу после поиска файлов
    их общий размер в подвале панели показывался нулевым (после
    Ctrl-R размер показывался правильно).
[-] По F3 на точечках UpDir в панели поиска вместо общего размера
    файлов в панели показывался размер каталого, из которого был
    запущен поиск.
17.08.2009

[!] Введена работа с текстовыми файлами в utf-8 в редакторе
    и просмотре. Автоопределение тоже работает.
[!] Введена работа с ftp. Для входа на ftp следует в комстроке
    ввести cd ftp://server - это минимальный вариант ftp-адреса.
    Максимальный вариант - cd ftp://login@password@server/path>encoding.
    В качестве обозначения кодировки (encoding) можно использовать
    любую, доступную в редакторе, в частности, utf (то есть utf-8).
[*] Исключена рудиментарная возможность запуска OS/2 и Win32 сессии
    в зависимости от первого символа командной строки, а также
    исключено переключение типа сессии по Alt-/ и Alt-Shift-/
    (остались только нормальный запуск и изменение времени).
[*] Исключена рудиментарная возможность запуска OS/2-сессии
    из DPMI-программы при помощи какой-то хитрой комбинации
    клавиш (кажется, Alt-Ctrl-Shift-Enter, но не уверен).
    Исключены ставшие ненужными переменные.
[*] Теперь по Enter не входим в sfx-архив (по F3 и Ctrl-PdDn входим
    по-прежнему).
[-] [win32] Hеправильно отображались русские имена сетевых ресурсов
[*] Совместимость с 7-Zip 9.0x (ошибка "нет файлов в архиве").
[*] В калькуляторе после вычисления промежуточного результата
    (Enter) введено "умное" стирание: если нажата цифра или
    открывающая скобка - промежуточный результат стирается,
    если же нажат иной символ (обычно это операция), то
    выделение снимается без стирания и ввод дописывается в конец.
[-] Файл, открытый во внутреннем просмотре, нельзя было удалить
 6.04.2010

[-] Неправильно отображались имена файлов на ftp,
    если кодировка сервера - utf-8
[*] Теперь если ftp-сервер поддерживает команду feat и корректно
    сообщает о кодировке utf-8, то в комстроке кодировку можно
    не указывать - DN сам установит utf-8. Пример такого
    сервера - FileZilla-server
 7.04.2010

[-] На ftp по F3 на каталоге неправильно отображался размер.
[*] Слегка оптимизирован повторный вход на ftp-сервер.
[-] При сортировке в редакторе инода выполнялись лишние перестановки
    строк с одинаковыми ключами.
[-] zip через 7zip работал не всегда правильно - не работали move,
    delete и прочие команды, т.к. -tzip был только у команды "add"
[-] (Не для новостей) Обработка ошибок открытия файла на ftp;
    Увеличен размер буфера массива ответов сервера.
[-] (Не для новостей) При автоопределении кодировки файла и
    при поиске по всем кодировкам слишком utf-8 предлагалась,
    когда она было не хуже других (например, 0 признаков).
    Теперь - только если строго лучше других.
[-] (Не для новостей) После патча ak00331a.dif в калькуляторе потерялись
    некоторые нормальные элементы поведения выделенного результата,
    например, взятие в буфер по Ctrl-Ins.
14.05.2010

[-] (Не для новостей) После патча ak00330a.dif в редакторе сразу после
    открытия нового файла (не из истории) не удавалось стать в конец
    строки по клавише End
[-] (Не для новостей) Ошибка в перекодировке из utf-8 в utc-16 могла
    приводить при поиске в utf-8 (в том числе, при поиске по всем
    кодировкам) к ложным нахождениям и даже к падению программы.
[*] (Не для новостей) При поиске по всем кодировкам сделано более аккуратно
    переключение на найденную кодировку в просмотре и сделано переключение
    на найденную кодировку в редакторе.
14.10.2010

[-] с архивам 7-zip 9.x не работало
[-] В редакторе съезжали закладки в таких случаях:
    1) Удаление блока, начинающегося перед закладкой;
    2) Откат удаления строки перед закладкой.
    2) Откат вставки блока, заканчивающегося непосредственно перед
       закладкой или дальше.
    Это очень старые глюки. Исправлено съезжание только строки закладки;
    позиция закладки в строке по-прежнему съезжает во многих слуаях.
[-] Переименование на ftp работало неправильно
[-] DN падал при ошибках чтения и записи на ftp (например, если на
    ftp исчерпалось место при записи).
[*] Теперь клик мыши на заголовке панели включает сортировку по
    параметру, соответствующему этому заголовку.
[-] При попытке работы в utf-8 с файлами, которые на самом деле не
    являются текстами в utf-8 (например, с двоичными фафлами),
    могло некорректно определяться число символов. Это приводило
    к тому что при поиске в utf-8 позиция найденного текста могла
    отображатся неправильно.
[*] При переименовании/создании каталогов возможно в диалог вставлять имена
    "В кавычках".
[-] DN/2 неправильно работал на 64-битных Windows системах с более чем 2Гб
    свободного ОЗУ.
14.03.2011
